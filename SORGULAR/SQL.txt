--SELECT * FROM LG_002_01_INVOICE 
--SELECT * FROM LG_002_01_EARCHIVEDET
--UPDATE LG_002_01_INVOICE SET SPECODE='ÖZEL KOD' WHERE FICHENO='0000000000000004'
--UPDATE LG_002_01_INVOICE SET CYPHCODE='PROJE KODU' WHERE FICHENO='0000000000000004'


SELECT
INV.DOCODE [BELGE NO]
,INV.SPECODE [ÖZEL KOD]
,INV.CYPHCODE [PROJE KODU]
, CASE WHEN INV.TRCODE=1 THEN 'Mal alım faturası' WHEN INV.TRCODE=2 THEN 'Perakende satış iade faturası'  
WHEN INV.TRCODE=3 THEN 'Toptan satış iade faturası'  WHEN INV.TRCODE=4 THEN 'Alınan hizmet faturası'  
WHEN INV.TRCODE=5 THEN 'Alınan proforma fatura'    WHEN INV.TRCODE=6 THEN 'alım iade faturası'   
WHEN INV.TRCODE=7 THEN 'Perakende satış faturası'  WHEN INV.TRCODE=8 THEN 'Toptan satış faturası'  
WHEN INV.TRCODE=9 THEN 'Verilen hizmet faturası'  WHEN INV.TRCODE=10 THEN 'Verilen proforma fatura'  
WHEN INV.TRCODE=13 THEN 'Alınan Fiyat farkı faturası'  WHEN INV.TRCODE=14 THEN 'Verilen fiyat farkı faturası'  
WHEN INV.TRCODE=26 THEN 'Müstahsil makbuzu' 
 END [FATURA TÜRÜ]
,CASE WHEN EARV.EARCHIVESTATUS=0 THEN 'E-arşiv faturası oluşturulacak' WHEN EARV.EARCHIVESTATUS=1 THEN 'E-arşiv faturası oluşturuldu'
WHEN EARV.EARCHIVESTATUS=2 THEN 'Rapor dosyasına yazıldı'  WHEN EARV.EARCHIVESTATUS=3 THEN 'Sunucuya iletildi'
WHEN EARV.EARCHIVESTATUS=4 THEN 'Gib e iletildi'  WHEN EARV.EARCHIVESTATUS=5 THEN 'Sunucuda hata alındı' 
WHEN EARV.EARCHIVESTATUS=6 THEN 'Sunucuda imzalandı' ELSE 'Diğer'
END [E-ARŞİV STATÜ]

FROM LG_002_01_INVOICE INV
LEFT JOIN LG_002_01_EARCHIVEDET EARV ON EARV.INVOICEREF=INV.LOGICALREF


